/**
 * @version 2.0.1
 * @link https://github.com/gajus/contents for the canonical source repository
 * @license https://github.com/gajus/contents/blob/master/LICENSE BSD 3-Clause
 */
!function e(t,n,r){function o(c,a){if(!n[c]){if(!t[c]){var l="function"==typeof require&&require;if(!a&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+c+"'")}var s=n[c]={exports:{}};t[c][0].call(s.exports,function(e){var n=t[c][1][e];return o(n?n:e)},s,s.exports,e,t,n,r)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(e,t){function n(){return this instanceof n?(this._events={},void 0):new n}n.prototype.on=function(e,t){return this._events[e]=this._events[e]||[],this._events[e].push(t),this},n.prototype.trigger=function(e,t){var n,r;if(this._events[e])for(n=0,r=this._events[e].length;r>n;)this._events[e][n++](t)},t.exports=n},{}],2:[function(e){var t,n=e("sister");t=function(e){var n,r;return e=t.config(e),n=t.makeList(e.articles),t.forEach(n.querySelectorAll("li"),function(t,n){e.link(t,e.articles[n])}),e.contents.appendChild(n),r=t.bind(n,e),{list:n,eventProxy:r}},t.bind=function(e,r){var o,i,c,a=n(),l=e.querySelectorAll("li");return a.on("resize",function(){o=t.windowHeight(),i=t.indexOffset(r.articles),a.trigger("scroll")}),a.on("scroll",function(){var e,n;e=t.getIndexOfClosestValue(t.windowScrollY()+.2*o,i),e!==c&&(n={},n.current={article:r.articles[e],guide:l[e]},void 0!==c&&(n.previous={article:r.articles[c],guide:l[c]}),a.trigger("change",n),c=e)}),setTimeout(function(){a.trigger("resize"),a.trigger("ready"),window.addEventListener("resize",t.throttle(function(){a.trigger("resize")},100)),window.addEventListener("scroll",t.throttle(function(){a.trigger("scroll")},100))},10),a},t.windowHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.windowScrollY=function(){return window.pageYOffset||document.documentElement.scrollTop},t.config=function(e){var n=["contents","articles","link"];if(e=e||{},t.forEach(Object.keys(e),function(e){if(-1===n.indexOf(e))throw new Error("Unknown configuration property.")}),!e.contents)throw new Error('Option "contents" is not set.');if(!(e.contents instanceof HTMLElement))throw new Error('Option "contents" is not an HTMLElement object.');if(e.articles){if(!(e.articles.length&&e.articles[0]instanceof HTMLElement))throw new Error('Option "articles" is not a collection of HTMLElement objects.')}else e.articles=document.querySelectorAll("h1, h2, h3, h4, h5, h6");if(e.link){if("function"!=typeof e.link)throw new Error('Option "link" must be a function.')}else e.link=t.link;return e},t.id=function(e,n){var r,o,i=1;if(n||(n=t.formatId),r=n(e),!r.match(/^[a-z]+[a-z0-9\-_:\.]*$/))throw new Error("Invalid ID.");for(o=r;document.querySelector("#"+o);)o=r+"-"+i++;return o},t.formatId=function(e){return e.toLowerCase().replace(/[ãàáäâ]/g,"a").replace(/[ẽèéëê]/g,"e").replace(/[ìíïî]/g,"i").replace(/[õòóöô]/g,"o").replace(/[ùúüû]/g,"u").replace(/[ñ]/g,"n").replace(/[ç]/g,"c").replace(/\s+/g,"-").replace(/[^a-z0-9\-_]+/g,"-").replace(/\-+/g,"-").replace(/^\-|\-$/g,"").replace(/^[^a-z]+/g,"")},t.makeList=function(e){var n,r,o,i=document.createElement("ol"),c=i,a=[];return n=function(e){for(;e>0;){if(a[e])return a[e];e--}throw new Error("Invalid markup.")},t.forEach(e,function(e){var i,l=document.createElement("li");i=t.level(e),a=a.slice(0,i+1),o&&o!==i?i>o?(c=document.createElement("ol"),c.appendChild(l),r.appendChild(c)):(c=n(i),c.appendChild(l)):c.appendChild(l),a[i]=c,o=i,r=l}),i},t.level=function(e){var t=e.tagName.toLowerCase();return-1!==["h1","h2","h3","h4","h5","h6"].indexOf(t)?parseInt(t.slice(1),10):void 0!==e.dataset["gajus.contents.level"]?parseInt(e.dataset["gajus.contents.level"],10):jQuery&&void 0!==jQuery.data(e,"gajus.contents.level")?jQuery.data(e,"gajus.contents.level"):1},t.link=function(e,n){var r=document.createElement("a"),o=document.createElement("a"),i=n.innerText||n.textContent,c=n.id||t.id(i);for(n.id=c,o.href="#"+c;n.childNodes.length;)o.appendChild(n.childNodes[0],o);n.appendChild(o),r.appendChild(document.createTextNode(i)),r.href="#"+c,e.insertBefore(r,e.firstChild)},t.indexOffset=function(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e[o++],n=t.offsetTop,n=5*Math.round(n/5),r.push(n);return r},t.getIndexOfClosestValue=function(e,t){var n,r=0,o=0,i=t.length;if(!i)throw new Error("Haystack must be not empty.");for(;i>o&&(Math.abs(e-t[r])>Math.abs(t[o]-e)&&(r=o),r!==n);)n=r,o++;return r},t.throttle=function(e,t,n){var r,o;return t=t||250,n=n||{},function(){var i=+new Date,c=arguments;r&&r+t>i?(clearTimeout(o),o=setTimeout(function(){r=i,e.apply(n,c)},t)):(r=i,e.apply(n,c))}},t.forEach=function(e,t){for(var n=0,r=e.length;r>n;)t(e[n],n),n++},window.gajus=window.gajus||{},window.gajus.contents=t},{sister:1}]},{},[2]);