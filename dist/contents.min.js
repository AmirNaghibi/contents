/**
 * @version 3.0.0
 * @link https://github.com/gajus/contents for the canonical source repository
 * @license https://github.com/gajus/contents/blob/master/LICENSE BSD 3-Clause
 */
!function e(n,t,r){function i(o,l){if(!t[o]){if(!n[o]){var c="function"==typeof require&&require;if(!l&&c)return c(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=t[o]={exports:{}};n[o][0].call(u.exports,function(e){var t=n[o][1][e];return i(t?t:e)},u,u.exports,e,n,t,r)}return t[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,n){(function(e){function t(){var e={},n={};return e.on=function(e,t){var r={name:e,handler:t};return n[e]=n[e]||[],n[e].unshift(r),r},e.off=function(e){var t=n[e.name].indexOf(e);-1!=t&&n[e.name].splice(t,1)},e.trigger=function(e,t){var r,i=n[e];if(i)for(r=i.length;r--;)i[r].handler(t)},e}e.gajus=e.gajus||{},e.gajus.Sister=t,n.exports=t}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n){(function(t){var r,i=e("sister");r=function a(e){var n,t,r,o,l;return this instanceof a?(n=this,l=i(),e=a.config(e),t=a.makeArticles(e.articles,e.articleName,e.articleId),r=a.makeTree(t),o=a.makeList(r,e.link),a.bind(l,o,e),n.list=function(){return o},n.tree=function(){return r},n.eventEmitter=function(){return l},void 0):new a(e)},r.bind=function(e,n,i){var a,o,l,c=n.querySelectorAll("li");e.on("resize",function(){a=r.windowHeight(),o=r.indexOffset(i.articles),e.trigger("scroll")}),e.on("scroll",function(){var n,t;n=r.getIndexOfClosestValue(r.windowScrollY()+.2*a,o),n!==l&&(t={},t.current={article:i.articles[n],guide:c[n]},void 0!==l&&(t.previous={article:i.articles[l],guide:c[l]}),e.trigger("change",t),l=n)}),setTimeout(function(){e.trigger("resize"),e.trigger("ready"),t.addEventListener("resize",r.throttle(function(){e.trigger("resize")},100)),t.addEventListener("scroll",r.throttle(function(){e.trigger("scroll")},100))},10)},r.windowHeight=function(){return t.innerHeight||t.document.documentElement.clientHeight},r.windowScrollY=function(){return t.pageYOffset||t.document.documentElement.scrollTop},r.config=function(e){var n=["articles","articleName","articleId","link"];if(e=e||{},r.forEach(Object.keys(e),function(e){if(-1===n.indexOf(e))throw new Error("Unknown configuration property.")}),e.articles){if(!(e.articles.length&&e.articles[0]instanceof HTMLElement))throw new Error('Option "articles" is not a collection of HTMLElement objects.')}else e.articles=t.document.querySelectorAll("h1, h2, h3, h4, h5, h6");if(e.articleName){if("function"!=typeof e.articleName)throw new Error('Option "articleName" must be a function.')}else e.articleName=r.articleName;if(e.articleId){if("function"!=typeof e.articleId)throw new Error('Option "articleId" must be a function.')}else e.articleId=r.articleId;if(e.link){if("function"!=typeof e.link)throw new Error('Option "link" must be a function.')}else e.link=r.link;return e},r.articleName=function(e){return e.innerText||e.textContent},r.articleId=function(e,n){return n.id||e},r.elementUniqueID=function(e,n){var r,i=1;if(n=n||t.document,!e.match(/^[a-z]+[a-z0-9\-_:\.]*$/))throw new Error("Invalid ID ("+e+").");for(r=e;n.querySelector("#"+r);)r=e+"-"+i++;return r},r.formatId=function(e){return e.toLowerCase().replace(/[ãàáäâ]/g,"a").replace(/[ẽèéëê]/g,"e").replace(/[ìíïî]/g,"i").replace(/[õòóöô]/g,"o").replace(/[ùúüû]/g,"u").replace(/[ñ]/g,"n").replace(/[ç]/g,"c").replace(/\s+/g,"-").replace(/[^a-z0-9\-_]+/g,"-").replace(/\-+/g,"-").replace(/^\-|\-$/g,"").replace(/^[^a-z]+/g,"")},r.makeArticles=function(e,n,t){var i=[];return n||(n=r.articleName),t||(t=r.articleId),r.forEach(e,function(e){var a={};a.level=r.level(e),a.name=n(e),a.id=r.formatId(t(a.name,e)),a.element=e,i.push(a)}),i},r.makeTree=function(e){var n,t={descendants:[],level:0},i=t.descendants;return r.forEach(e,function(e){e.id=r.elementUniqueID(e.id),e.descendants=[],n?n.level===e.level?r.makeTree.findParentNode(n,t).descendants.push(e):e.level>n.level?n.descendants.push(e):r.makeTree.findParentNodeWithLevelLower(n,e.level,t).descendants.push(e):i.push(e),n=e}),i},r.makeTree.findParentNode=function(e,n){var t,i;if(-1!=n.descendants.indexOf(e))return n;for(t=n.descendants.length;t--;)if(i=r.makeTree.findParentNode(e,n.descendants[t]))return i;throw new Error("Invalid tree.")},r.makeTree.findParentNodeWithLevelLower=function(e,n,t){var i=r.makeTree.findParentNode(e,t);return i.level<n?i:r.makeTree.findParentNodeWithLevelLower(i,n,t)},r.makeList=function(e,n){var i=t.document.createElement("ol");return r.forEach(e,function(e){var a=t.document.createElement("li");n&&n(a,e),e.descendants.length&&a.appendChild(r.makeList(e.descendants,n)),i.appendChild(a)}),i},r.link=function(e,n){var r=t.document.createElement("a"),i=t.document.createElement("a");for(n.element.id=n.id,i.href="#"+n.id;n.element.childNodes.length;)i.appendChild(n.element.childNodes[0]);n.element.appendChild(i),r.appendChild(t.document.createTextNode(n.name)),r.href="#"+n.id,e.insertBefore(r,e.firstChild)},r.level=function(e){var n=e.tagName.toLowerCase();return-1!==["h1","h2","h3","h4","h5","h6"].indexOf(n)?parseInt(n.slice(1),10):void 0!==e.dataset["gajus.contents.level"]?parseInt(e.dataset["gajus.contents.level"],10):jQuery&&void 0!==jQuery.data(e,"gajus.contents.level")?jQuery.data(e,"gajus.contents.level"):1},r.indexOffset=function(e){for(var n,t,r=[],i=0,a=e.length;a>i;)n=e[i++],t=n.offsetTop,t=5*Math.round(t/5),r.push(t);return r},r.getIndexOfClosestValue=function(e,n){var t,r=0,i=0,a=n.length;if(!a)throw new Error("Haystack must be not empty.");for(;a>i&&(Math.abs(e-n[r])>Math.abs(n[i]-e)&&(r=i),r!==t);)t=r,i++;return r},r.throttle=function(e,n,t){var r,i;return n=n||250,t=t||{},function(){var a=+new Date,o=arguments;r&&r+n>a?(clearTimeout(i),i=setTimeout(function(){r=a,e.apply(t,o)},n)):(r=a,e.apply(t,o))}},r.forEach=function(e,n){for(var t=0,r=e.length;r>t;)n(e[t],t),t++},t.gajus=t.gajus||{},t.gajus.Contents=r,n.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{sister:1}]},{},[2]);