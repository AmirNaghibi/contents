/**
* @version 1.0.1
* @link https://github.com/gajus/contents for the canonical source repository
* @license https://github.com/gajus/contents/blob/master/LICENSE BSD 3-Clause
*/
!function n(t,e,r){function o(a,c){if(!e[a]){if(!t[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=e[a]={exports:{}};t[a][0].call(u.exports,function(n){var e=t[a][1][n];return o(e?e:n)},u,u.exports,n,t,e,r)}return e[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(){var n;window.gajus=window.gajus||{},n=window.gajus,n.contents,n.contents=function(t){var e,r;return t=n.contents.config(t),e=n.contents.makeList(t.articles),r=e.find("li"),r.each(function(n){t.link($(this),t.articles.eq(n))}),t.contents.append(e),function(){var o,i,a;e.on("resize.gajus.contents",function(){var c=$(window).height();a=n.contents.indexOffset(t.articles),o||(o=!0,$(window).on("scroll",n.contents.throttle(function(){var o,s;o=n.contents.getIndexOfClosestValue($(window).scrollTop()+.2*c,a),o!==i&&(s={},s.current={article:t.articles.eq(o),guide:r.eq(o)},void 0!==i&&(s.previous={article:t.articles.eq(i),guide:r.eq(i)}),e.trigger("change.gajus.contents",s),i=o)},100)),e.trigger("ready.gajus.contents")),$(window).trigger("scroll")}),$(window).on("resize orientationchange",n.contents.throttle(function(){e.trigger("resize.gajus.contents")},100)),setTimeout(function(){e.trigger("resize.gajus.contents")},10)}(),e},n.contents.config=function(t){var e=["contents","articles","link"];if(t=t||{},$.each(t,function(n){if(-1===e.indexOf(n))throw new Error("Unknown configuration property.")}),!t.contents)throw new Error('Option "contents" is not set.');if(!(t.contents instanceof jQuery))throw new Error('Option "contents" is not a jQuery object.');if(t.articles){if(!(t.articles instanceof jQuery))throw new Error('Option "articles" is not a jQuery object.')}else t.articles=$("body").find("h1, h2, h3, h4, h5, h6");if(t.link){if("function"!=typeof t.link)throw new Error('Option "link" must be a function.')}else t.link=n.contents.link;return t},n.contents.id=function(t,e){var r,o,i=1;if(e||(e=n.contents.formatId),r=e(t),!r.match(/^[a-z]+[a-z0-9\-_:\.]*$/))throw new Error("Invalid ID.");for(o=r;$(document).find("#"+o).length;)o=r+"-"+i++;return o},n.contents.formatId=function(n){return n.toLowerCase().replace(/[ãàáäâ]/g,"a").replace(/[ẽèéëê]/g,"e").replace(/[ìíïî]/g,"i").replace(/[õòóöô]/g,"o").replace(/[ùúüû]/g,"u").replace(/[ñ]/g,"n").replace(/[ç]/g,"c").replace(/\s+/g,"-").replace(/[^a-z0-9\-_]+/g,"-").replace(/\-+/g,"-").replace(/^\-|\-$/g,"").replace(/^[^a-z]+/g,"")},n.contents.makeList=function(t){var e,r,o,i=$("<ol>"),a=i,c=[];return e=function(n){for(;n>0;){if(c[n])return c[n];n--}throw new Error("Invalid markup.")},t.each(function(){var t,i=$(this),s=$("<li>");t=n.contents.level(i),c=c.slice(0,t+1),o&&o!==t?t>o?(a=$("<ol>"),a.append(s),r.append(a)):(a=e(t),a.append(s)):a.append(s),c[t]=a,o=t,r=s}),i},n.contents.level=function(n){var t=n.prop("tagName").toLowerCase();return-1!==["h1","h2","h3","h4","h5","h6"].indexOf(t)?parseInt(t.slice(1),10):n.data("gajus.contents.level")||1},n.contents.link=function(t,e){var r=$("<a>"),o=$("<a>"),i=e.text(),a=e.attr("id")||n.contents.id(i);r.text(i).attr("href","#"+a).prependTo(t),o.attr("href","#"+a),e.attr("id",a).wrapInner(o)},n.contents.indexOffset=function(n){var t=[];return n.each(function(){var n=$(this).offset().top;n=5*Math.round(n/5),t.push(n)}),t},n.contents.getIndexOfClosestValue=function(n,t){var e,r=0,o=0,i=t.length;if(!i)throw new Error("Haystack must be not empty.");for(;i>o&&(Math.abs(n-t[r])>Math.abs(t[o]-n)&&(r=o),r!==e);)e=r,o++;return r},n.contents.throttle=function(n,t,e){var r,o;return t=t||250,e=e||{},function(){var i=+new Date,a=arguments;r&&r+t>i?(clearTimeout(o),o=setTimeout(function(){r=i,n.apply(e,a)},t)):(r=i,n.apply(e,a))}}},{}]},{},[1]);